<div class="container p-2">
    <div class="card shadow-sm p-3">
        <div class="d-flex justify-content-between my-1">
            <span class="fs-3 fw-bolder">
                User
            </span>
            <div>
                <button mat-mini-fab color="addon-wrapping" class="me-2"
                    type="button"
                    (click)="onFilterButtonClick()">
                    <i class="bi bi-funnel"></i>
                </button>
                <a mat-flat-button color="primary">
                    <!-- [routerLink]="['/admin/blog/new']"> -->
                    Add New
                </a>
            </div>
        </div>
        <mat-expansion-panel [expanded]="isFilterOptionsExpended">
            <hr class="m-0 my-2" />
            <div class="d-flex">
                <div class="input-group flex-nowrap filter-div me-2">
                    <span class="input-group-text" id="addon-wrapping">
                        <i class="bi bi-search"></i>
                    </span>
                    <input
                        (input)="onSearchInputChange($event)"
                        type="search"
                        class="form-control"
                        placeholder="Search"
                        aria-label="Search"
                        aria-describedby="addon-wrapping" />
                </div>
                <div class="form-floating filter-div me-2">
                    <select
                        (change)="onStatusChange($event)"
                        class="form-select"
                        id="floatingSelect"
                        aria-label="status">
                        <option value="3" selected>All</option>
                        <option value="0">Active</option>
                        <option value="1">DeActive</option>
                        <option value="2">Deleted</option>
                    </select>
                    <label for="floatingSelect">Status</label>
                </div>
                <div class="form-floating filter-div">
                    <select
                        (change)="onRoleChange($event)"
                        class="form-select"
                        id="floatingSelect"
                        aria-label="User">
                        <option value=0 selected>All</option>
                        <option value=1>Admin</option>
                        <option value=2>Author</option>
                    </select>
                    <label for="floatingSelect">Role</label>
                </div>
            </div>
        </mat-expansion-panel>
    </div>
    <div class="mt-3 card shadow-sm p-3">
        @defer (when users!= null) {
        <table
            class="table table-responsive text-center table-bordered rounded-2">
            <thead>
                <tr class="align-middle">
                    <th class="col-4">
                        Email
                    </th>
                    <th class="col-4">
                        Full Name
                    </th>
                    <th class="col-2">
                        Status
                    </th>
                    <th class="col-2">
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>
                @for(user of users; track user.id){
                <tr class="align-middle">
                    <td>
                        {{user.email}}
                    </td>
                    <td>
                        {{user.firstName}} {{user.lastName}}
                    </td>
                    <td>
                        {{user.status | enumIntToValue: 'UserEnum'}}
                    </td>
                    <td class="fs-5">
                        <button class="bg-transparent border-0">
                            Edit
                        </button>
                    </td>
                </tr>
                }
            </tbody>
        </table>
        }
    </div>
</div>
